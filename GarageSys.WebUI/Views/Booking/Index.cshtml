@using GarageSys.WebUI.ViewModels
@using Newtonsoft.Json
@inject Microsoft.AspNetCore.Antiforgery.IAntiforgery Xsrf
@model BookingVM
@{
    ViewData["Title"] = "Booking";
    
}


<!-- Page Header Start -->
<div class="container-fluid page-header mb-5 p-0" style="background-image: url(../assets/img/carousel-bg-1.jpg);">
    <div class="container-fluid page-header-inner py-5">
        <div class="container text-center">
            <h1 class="display-3 text-white mb-3 animated slideInDown">Booking</h1>
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb justify-content-center text-uppercase">
                    <li class="breadcrumb-item"><a href="#">Home</a></li>
                    <li class="breadcrumb-item"><a href="#">Pages</a></li>
                    <li class="breadcrumb-item text-white active" aria-current="page">Booking</li>
                </ol>
            </nav>
        </div>
    </div>
</div>
<!-- Page Header End -->
<!-- Service Start -->
<div class="container-xxl py-5">
    <div class="container">
        <div class="row g-4">
            <div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.1s">
                <div class="d-flex py-5 px-4">
                    <i class="fa fa-certificate fa-3x text-primary flex-shrink-0"></i>
                    <div class="ps-4">
                        <h5 class="mb-3">Quality Servicing</h5>
                        <p>Diam dolor diam ipsum sit amet diam et eos erat ipsum</p>
                        <a class="text-secondary border-bottom" href="">Read More</a>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.3s">
                <div class="d-flex bg-light py-5 px-4">
                    <i class="fa fa-users-cog fa-3x text-primary flex-shrink-0"></i>
                    <div class="ps-4">
                        <h5 class="mb-3">Expert Workers</h5>
                        <p>Diam dolor diam ipsum sit amet diam et eos erat ipsum</p>
                        <a class="text-secondary border-bottom" href="">Read More</a>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.5s">
                <div class="d-flex py-5 px-4">
                    <i class="fa fa-tools fa-3x text-primary flex-shrink-0"></i>
                    <div class="ps-4">
                        <h5 class="mb-3">Modern Equipment</h5>
                        <p>Diam dolor diam ipsum sit amet diam et eos erat ipsum</p>
                        <a class="text-secondary border-bottom" href="">Read More</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Service End -->
<!-- Booking Start -->
<div class="container-fluid bg-secondary booking my-5 wow fadeInUp" data-wow-delay="0.1s">
    <div class="container">
        <div class="row gx-5">
            <div class="col-lg-6 py-5">
                <div class="py-5">
                    <h1 class="text-white mb-4">Certified and Award Winning Car Repair Service Provider</h1>
                    <p class="text-white mb-0">Eirmod sed tempor lorem ut dolores. Aliquyam sit sadipscing kasd ipsum. Dolor ea et dolore et at sea ea at dolor, justo ipsum duo rebum sea invidunt voluptua. Eos vero eos vero ea et dolore eirmod et. Dolores diam duo invidunt lorem. Elitr ut dolores magna sit. Sea dolore sanctus sed et. Takimata takimata sanctus sed.</p>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="bg-primary h-100 d-flex flex-column justify-content-center text-center p-5 wow zoomIn" data-wow-delay="0.6s">
                    <h1 class="text-white mb-4">Book For A Service</h1>
                    <form  method="post" asp-action="index" asp-controller="Booking">
                        <div class="row g-3">
                          
                            <div class="col-12 col-sm-6">

                                <select class="form-control select-list border-0 " style="height: 55px;"
                                        asp-for="ServiceIds" asp-items="@Model.servicesList" >
                                    
                                    <span asp-validation-for="ServiceIds" class="text-danger" style="background-color:white"></span>
                                </select> 
                               

                            </div>
                            <div class="col-12 col-sm-6">
                                <div class="datepicker" id="date1" data-target-input="nearest" style="position: relative">
                                    <input type="text"
                                        asp-for="BookingDate"
                                           class="form-control border-0 datetimepicker-input"
                                           placeholder="Service Date" autocomplete="off" data-target="#date1" 
                                           data-toggle="datetimepicker" style="height: 55px;">
                                    <span asp-validation-for="BookingDate" class="text-danger" style="background-color:white"></span>
                                </div>
                            </div>
                          
                            <div class="col-12">
                                <textarea class="form-control border-0" asp-for="Desc" placeholder="Some description"></textarea>
                            </div>
                            <div asp-validation-summary="All" class="text-danger summery" style="background-color:white;display:none"></div>
                            <div class="col-12">
                                <button class="btn btn-secondary w-100 py-3" type="submit">Book Now</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Booking End -->
<!-- Call To Action Start -->
<div class="container-xxl py-5 wow fadeInUp" data-wow-delay="0.1s">
    <div class="container">
        <div class="row g-4">
            <div class="col-lg-8 col-md-6">
                <h6 class="text-primary text-uppercase">// Call To Action //</h6>
                <h1 class="mb-4">Have Any Pre Booking Question?</h1>
                <p class="mb-0">Lorem diam ea sit dolor labore. Clita et dolor erat sed est lorem sed et sit. Diam sed duo magna erat et stet clita ea magna ea sed, sit labore magna lorem tempor justo rebum dolores. Eos dolor sea erat amet et, lorem labore lorem at dolores. Stet ea ut justo et, clita et et ipsum diam.</p>
            </div>
            <div class="col-lg-4 col-md-6">
                <div class="bg-primary d-flex flex-column justify-content-center text-center h-100 p-4">
                    <h3 class="text-white mb-4"><i class="fa fa-phone-alt me-3"></i>+012 345 6789</h3>
                    <a href="" class="btn btn-secondary py-3 px-5">Contact Us<i class="fa fa-arrow-right ms-3"></i></a>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Call To Action End -->
@section Scripts{
     <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
 @* <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/js/bootstrap-datetimepicker.min.js"></script>  *@
    <script src="https://rawgit.com/AuspeXeu/bootstrap-datetimepicker/master/js/bootstrap-datetimepicker.js"></script>


    <script>
        $(document).ready(function () {
            $('.select-list').select2({
                placeholder: "Choose a service..."
            });
            if ("@ViewBag.error"=="True") {
                
                $(".summery").css('display', "block");
            }
            else {
                $(".summery").css('display', "none");
            }
            function formatDate(datestr) {
                var date = new Date(datestr);
                var day = date.getDate();
                day = day > 9 ? day : "0" + day;
                var month = date.getMonth() + 1; month = month > 9 ? month : "0" + month;
                return month + "/" + day + "/" + date.getFullYear();
            }

             // var disabletime = ["05/05/2024:11, 05/05/2024:13]; 
             var disabletime = @Html.Raw(JsonConvert.SerializeObject(@Model.EnableHours)) ;
            $(".datetimepicker-input").datetimepicker({
                hoursDisabled: [0,1,2,3,4,5,6,7,8,19,20,21,22,23,24],
               // daysOfWeekHighlighted: "0,6",
                
                daysOfWeekDisabled: [0],
                //format: 'yyyy-mm-dd hh:mm',
                startDate: new Date(),
                // format: 'DD-MM-YYYY hh:mm',
                showClose: true,
                //format: "yyy-MM-dd HH:mm",
               
                onRenderHour: function (date) {
                    if (disabletime.indexOf(formatDate(date) + ":" + date.getUTCHours()) > -1) {
                        return ['disabled'];
                    }
                },

                // enabledHours: hoursEnable,
                // sideBySide: true,
                // icons: {
                //     time: 'far fa-clock'
                // }
            });
        });
        
    </script>
}